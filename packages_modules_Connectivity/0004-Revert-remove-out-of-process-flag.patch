From 6aeea9bc50eaf412de94e7854b062fb17aa28c85 Mon Sep 17 00:00:00 2001
From: Yaroslav Zviezda <acroreiser@gmail.com>
Date: Sun, 31 Mar 2024 20:55:35 +0300
Subject: [PATCH 04/17] Revert "remove out-of-process flag"

This reverts commit 2da7535246153c1014444a10f6634930fe0720cb.

Change-Id: I614b1d0a2c7c235d4cb8596fc4db242d5d7e9e61
---
 Tethering/apex/Android.bp     | 8 ++++++++
 Tethering/apex/out-of-process | 0
 2 files changed, 8 insertions(+)
 create mode 100644 Tethering/apex/out-of-process

diff --git a/Tethering/apex/Android.bp b/Tethering/apex/Android.bp
index de9017ae57..29c0132701 100644
--- a/Tethering/apex/Android.bp
+++ b/Tethering/apex/Android.bp
@@ -18,6 +18,13 @@ package {
     default_applicable_licenses: ["Android-Apache-2.0"],
 }
 
+prebuilt_etc {
+    name: "TetheringOutOfProcessFlag",
+    src: "out-of-process",
+    filename_from_src: true,
+    sub_dir: "flag",
+}
+
 // Defaults to enable/disable java targets which uses development APIs. "enabled" may have a
 // different value depending on the branch.
 java_defaults {
@@ -119,6 +126,7 @@ apex {
     prebuilts: [
         "ot-daemon.init.34rc",
         "current_sdkinfo",
+        "TetheringOutOfProcessFlag",
     ],
     manifest: "manifest.json",
     key: "com.android.tethering.key",
diff --git a/Tethering/apex/out-of-process b/Tethering/apex/out-of-process
new file mode 100644
index 0000000000..e69de29bb2
-- 
2.37.2

